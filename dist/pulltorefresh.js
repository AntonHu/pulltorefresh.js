var PullToRefresh = (function () {
var _ptrMarkup = function () { return "<div class=\"__PREFIX__box\"><div class=\"__PREFIX__content\"><div class=\"__PREFIX__icon\"></div><div class=\"__PREFIX__text\"></div></div></div>"; };

var _ptrStyles = function () { return ".__PREFIX__ptr {\n  box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.12);\n  pointer-events: none;\n  font-size: 0.85em;\n  font-weight: bold;\n  top: 0;\n  height: 0;\n  transition: height 0.3s, min-height 0.3s;\n  text-align: center;\n  width: 100%;\n  overflow: hidden;\n  display: flex;\n  align-items: flex-end;\n  align-content: stretch;\n}\n.__PREFIX__box {\n  padding: 10px;\n  flex-basis: 100%;\n}\n.__PREFIX__pull {\n  transition: none;\n}\n.__PREFIX__text {\n  margin-top: .33em;\n  color: rgba(0, 0, 0, 0.3);\n}\n.__PREFIX__icon {\n  color: rgba(0, 0, 0, 0.3);\n  transition: transform .3s;\n}\n.__PREFIX__top {\n  touch-action: pan-x pan-down pinch-zoom;\n}\n.__PREFIX__release .__PREFIX__icon {\n  transform: rotate(180deg);\n}\n"; };

/* eslint-disable import/no-unresolved */

var _SETTINGS = {};

var _defaults = {
  distThreshold: 60,
  distMax: 80,
  distReload: 50,
  bodyOffset: 20,
  mainElement: 'body',
  triggerElement: 'body',
  ptrElement: '.ptr',
  classPrefix: 'ptr--',
  cssProp: 'min-height',
  iconArrow: '&#8675;',
  iconRefreshing: '&hellip;',
  instructionsPullToRefresh: 'Pull down to refresh',
  instructionsReleaseToRefresh: 'Release to refresh',
  instructionsRefreshing: 'Refreshing',
  refreshTimeout: 500,
  getMarkup: _ptrMarkup,
  getStyles: _ptrStyles,
  onInit: function () {},
  onRefresh: function () { return location.reload(); },
  resistanceFunction: function (t) { return Math.min(1, t / 2.5); },
  shouldPullToRefresh: function () { return !window.scrollY; },
};

var pullStartY = null;
var pullMoveY = null;
var dist = 0;
var distResisted = 0;

var _state = 'pending';
var _setup = false;
var _enable = false;
var _timeout;

var supportsPassive = false;

try {
  window.addEventListener('test', null, {
    get passive() {
      supportsPassive = true;
    },
  });
} catch (e) {
  // do nothing
}

function _update() {
  var classPrefix = _SETTINGS.classPrefix;
  var ptrElement = _SETTINGS.ptrElement;
  var iconArrow = _SETTINGS.iconArrow;
  var iconRefreshing = _SETTINGS.iconRefreshing;
  var instructionsRefreshing = _SETTINGS.instructionsRefreshing;
  var instructionsPullToRefresh = _SETTINGS.instructionsPullToRefresh;
  var instructionsReleaseToRefresh = _SETTINGS.instructionsReleaseToRefresh;

  var iconEl = ptrElement.querySelector(("." + classPrefix + "icon"));
  var textEl = ptrElement.querySelector(("." + classPrefix + "text"));

  if (_state === 'refreshing') {
    iconEl.innerHTML = iconRefreshing;
  } else {
    iconEl.innerHTML = iconArrow;
  }

  if (_state === 'releasing') {
    textEl.innerHTML = instructionsReleaseToRefresh;
  }

  if (_state === 'pulling' || _state === 'pending') {
    textEl.innerHTML = instructionsPullToRefresh;
  }

  if (_state === 'refreshing') {
    textEl.innerHTML = instructionsRefreshing;
  }
}

function _setupEvents() {
  function onReset() {
    var cssProp = _SETTINGS.cssProp;
    var ptrElement = _SETTINGS.ptrElement;
    var classPrefix = _SETTINGS.classPrefix;

    ptrElement.classList.remove((classPrefix + "refresh"));
    ptrElement.style[cssProp] = '0px';

    _state = 'pending';
  }

  function _onTouchStart(e) {
    var shouldPullToRefresh = _SETTINGS.shouldPullToRefresh;
    var triggerElement = _SETTINGS.triggerElement;

    if (shouldPullToRefresh()) {
      pullStartY = e.touches[0].screenY;
    }

    if (_state !== 'pending') {
      return;
    }

    clearTimeout(_timeout);

    _enable = triggerElement.contains(e.target);
    _state = 'pending';
    _update();
  }

  function _onTouchMove(e) {
    var cssProp = _SETTINGS.cssProp;
    var classPrefix = _SETTINGS.classPrefix;
    var distMax = _SETTINGS.distMax;
    var distThreshold = _SETTINGS.distThreshold;
    var ptrElement = _SETTINGS.ptrElement;
    var resistanceFunction = _SETTINGS.resistanceFunction;
    var shouldPullToRefresh = _SETTINGS.shouldPullToRefresh;

    if (!pullStartY) {
      if (shouldPullToRefresh()) {
        pullStartY = e.touches[0].screenY;
      }
    } else {
      pullMoveY = e.touches[0].screenY;
    }

    if (!_enable || _state === 'refreshing') {
      if (shouldPullToRefresh() && pullStartY < pullMoveY) {
        e.preventDefault();
      }

      return;
    }

    if (_state === 'pending') {
      ptrElement.classList.add((classPrefix + "pull"));
      _state = 'pulling';
      _update();
    }

    if (pullStartY && pullMoveY) {
      dist = pullMoveY - pullStartY;
    }

    if (dist > 0) {
      e.preventDefault();

      ptrElement.style[cssProp] = distResisted + "px";

      distResisted = resistanceFunction(dist / distThreshold)
        * Math.min(distMax, dist);

      if (_state === 'pulling' && distResisted > distThreshold) {
        ptrElement.classList.add((classPrefix + "release"));
        _state = 'releasing';
        _update();
      }

      if (_state === 'releasing' && distResisted < distThreshold) {
        ptrElement.classList.remove((classPrefix + "release"));
        _state = 'pulling';
        _update();
      }
    }
  }

  function _onTouchEnd() {
    var ptrElement = _SETTINGS.ptrElement;
    var onRefresh = _SETTINGS.onRefresh;
    var refreshTimeout = _SETTINGS.refreshTimeout;
    var distThreshold = _SETTINGS.distThreshold;
    var distReload = _SETTINGS.distReload;
    var cssProp = _SETTINGS.cssProp;
    var classPrefix = _SETTINGS.classPrefix;

    if (_state === 'releasing' && distResisted > distThreshold) {
      _state = 'refreshing';

      ptrElement.style[cssProp] = distReload + "px";
      ptrElement.classList.add((classPrefix + "refresh"));

      _timeout = setTimeout(function () {
        var retval = onRefresh(onReset);

        if (retval && typeof retval.then === 'function') {
          retval.then(function () { return onReset(); });
        }

        if (!retval && !onRefresh.length) {
          onReset();
        }
      }, refreshTimeout);
    } else {
      if (_state === 'refreshing') {
        return;
      }

      ptrElement.style[cssProp] = '0px';

      _state = 'pending';
    }

    _update();

    ptrElement.classList.remove((classPrefix + "release"));
    ptrElement.classList.remove((classPrefix + "pull"));

    pullStartY = pullMoveY = null;
    dist = distResisted = 0;
  }

  function _onScroll() {
    var mainElement = _SETTINGS.mainElement;
    var classPrefix = _SETTINGS.classPrefix;
    var shouldPullToRefresh = _SETTINGS.shouldPullToRefresh;

    mainElement.classList.toggle((classPrefix + "top"), shouldPullToRefresh());
  }

  window.addEventListener('touchend', _onTouchEnd);
  window.addEventListener('touchstart', _onTouchStart);
  window.addEventListener('touchmove', _onTouchMove, supportsPassive
    ? { passive: _SETTINGS.passive || false }
    : undefined);

  window.addEventListener('scroll', _onScroll);

  // Store event handlers to use for teardown later
  return {
    onTouchStart: _onTouchStart,
    onTouchMove: _onTouchMove,
    onTouchEnd: _onTouchEnd,
    onScroll: _onScroll,
  };
}

function _run() {
  var mainElement = _SETTINGS.mainElement;
  var getMarkup = _SETTINGS.getMarkup;
  var getStyles = _SETTINGS.getStyles;
  var classPrefix = _SETTINGS.classPrefix;
  var onInit = _SETTINGS.onInit;

  if (!document.querySelector(("." + classPrefix + "ptr"))) {
    var ptr = document.createElement('div');

    if (mainElement !== document.body) {
      mainElement.parentNode.insertBefore(ptr, mainElement);
    } else {
      document.body.insertBefore(ptr, document.body.firstChild);
    }

    ptr.classList.add((classPrefix + "ptr"));
    ptr.innerHTML = getMarkup()
      .replace(/__PREFIX__/g, classPrefix);

    _SETTINGS.ptrElement = ptr;
  }

  // Add the css styles to the style node, and then
  // insert it into the dom
  // ========================================================
  var styleEl;
  if (!document.querySelector('#pull-to-refresh-js-style')) {
    styleEl = document.createElement('style');
    styleEl.setAttribute('id', 'pull-to-refresh-js-style');

    document.head.appendChild(styleEl);
  } else {
    styleEl = document.querySelector('#pull-to-refresh-js-style');
  }

  styleEl.textContent = getStyles()
    .replace(/__PREFIX__/g, classPrefix)
    .replace(/\s+/g, ' ');

  if (typeof onInit === 'function') {
    onInit(_SETTINGS);
  }

  return {
    styleNode: styleEl,
    ptrElement: _SETTINGS.ptrElement,
  };
}

var pulltorefresh = {
  init: function init(options) {
    if ( options === void 0 ) options = {};

    var handlers;
    Object.keys(_defaults).forEach(function (key) {
      _SETTINGS[key] = options[key] || _defaults[key];
    });

    var methods = ['mainElement', 'ptrElement', 'triggerElement'];
    methods.forEach(function (method) {
      if (typeof _SETTINGS[method] === 'string') {
        _SETTINGS[method] = document.querySelector(_SETTINGS[method]);
      }
    });

    if (!_setup) {
      handlers = _setupEvents();
      _setup = true;
    }

    var ref = _run();
    var styleNode = ref.styleNode;
    var ptrElement = ref.ptrElement;

    return {
      destroy: function destroy() {
        // Teardown event listeners
        window.removeEventListener('touchstart', handlers.onTouchStart);
        window.removeEventListener('touchend', handlers.onTouchEnd);
        window.removeEventListener('touchmove', handlers.onTouchMove, supportsPassive
          ? { passive: _SETTINGS.passive || false }
          : undefined);
        window.removeEventListener('scroll', handlers.onScroll);

        // Remove ptr element and style tag
        styleNode.parentNode.removeChild(styleNode);
        ptrElement.parentNode.removeChild(ptrElement);

        // Enable setupEvents to run again
        _setup = false;

        // null object references
        handlers = null;
        styleNode = null;
        ptrElement = null;
        _SETTINGS = {};
      },
    };
  },
};

return pulltorefresh;

}());

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL3JhZmFlbC93d3cvcHVsbHRvcmVmcmVzaC9zcmMvX21hcmt1cC5wdWciLCIvaG9tZS9yYWZhZWwvd3d3L3B1bGx0b3JlZnJlc2gvc3JjL19zdHlsZXMubGVzcyIsIi9ob21lL3JhZmFlbC93d3cvcHVsbHRvcmVmcmVzaC9zcmMvcHVsbHRvcmVmcmVzaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIl9fUFJFRklYX19ib3hcXFwiPjxkaXYgY2xhc3M9XFxcIl9fUFJFRklYX19jb250ZW50XFxcIj48ZGl2IGNsYXNzPVxcXCJfX1BSRUZJWF9faWNvblxcXCI+PC9kaXY+PGRpdiBjbGFzcz1cXFwiX19QUkVGSVhfX3RleHRcXFwiPjwvZGl2PjwvZGl2PjwvZGl2PlwiOyB9IixudWxsLCIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tdW5yZXNvbHZlZCAqL1xuXG5pbXBvcnQgX3B0ck1hcmt1cCBmcm9tICcuL19tYXJrdXAucHVnJztcbmltcG9ydCBfcHRyU3R5bGVzIGZyb20gJy4vX3N0eWxlcy5sZXNzJztcblxubGV0IF9TRVRUSU5HUyA9IHt9O1xuXG5jb25zdCBfZGVmYXVsdHMgPSB7XG4gIGRpc3RUaHJlc2hvbGQ6IDYwLFxuICBkaXN0TWF4OiA4MCxcbiAgZGlzdFJlbG9hZDogNTAsXG4gIGJvZHlPZmZzZXQ6IDIwLFxuICBtYWluRWxlbWVudDogJ2JvZHknLFxuICB0cmlnZ2VyRWxlbWVudDogJ2JvZHknLFxuICBwdHJFbGVtZW50OiAnLnB0cicsXG4gIGNsYXNzUHJlZml4OiAncHRyLS0nLFxuICBjc3NQcm9wOiAnbWluLWhlaWdodCcsXG4gIGljb25BcnJvdzogJyYjODY3NTsnLFxuICBpY29uUmVmcmVzaGluZzogJyZoZWxsaXA7JyxcbiAgaW5zdHJ1Y3Rpb25zUHVsbFRvUmVmcmVzaDogJ1B1bGwgZG93biB0byByZWZyZXNoJyxcbiAgaW5zdHJ1Y3Rpb25zUmVsZWFzZVRvUmVmcmVzaDogJ1JlbGVhc2UgdG8gcmVmcmVzaCcsXG4gIGluc3RydWN0aW9uc1JlZnJlc2hpbmc6ICdSZWZyZXNoaW5nJyxcbiAgcmVmcmVzaFRpbWVvdXQ6IDUwMCxcbiAgZ2V0TWFya3VwOiBfcHRyTWFya3VwLFxuICBnZXRTdHlsZXM6IF9wdHJTdHlsZXMsXG4gIG9uSW5pdDogKCkgPT4ge30sXG4gIG9uUmVmcmVzaDogKCkgPT4gbG9jYXRpb24ucmVsb2FkKCksXG4gIHJlc2lzdGFuY2VGdW5jdGlvbjogdCA9PiBNYXRoLm1pbigxLCB0IC8gMi41KSxcbiAgc2hvdWxkUHVsbFRvUmVmcmVzaDogKCkgPT4gIXdpbmRvdy5zY3JvbGxZLFxufTtcblxubGV0IHB1bGxTdGFydFkgPSBudWxsO1xubGV0IHB1bGxNb3ZlWSA9IG51bGw7XG5sZXQgZGlzdCA9IDA7XG5sZXQgZGlzdFJlc2lzdGVkID0gMDtcblxubGV0IF9zdGF0ZSA9ICdwZW5kaW5nJztcbmxldCBfc2V0dXAgPSBmYWxzZTtcbmxldCBfZW5hYmxlID0gZmFsc2U7XG5sZXQgX3RpbWVvdXQ7XG5cbmxldCBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcblxudHJ5IHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCB7XG4gICAgZ2V0IHBhc3NpdmUoKSB7XG4gICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgIH0sXG4gIH0pO1xufSBjYXRjaCAoZSkge1xuICAvLyBkbyBub3RoaW5nXG59XG5cbmZ1bmN0aW9uIF91cGRhdGUoKSB7XG4gIGNvbnN0IHtcbiAgICBjbGFzc1ByZWZpeCxcbiAgICBwdHJFbGVtZW50LFxuICAgIGljb25BcnJvdyxcbiAgICBpY29uUmVmcmVzaGluZyxcbiAgICBpbnN0cnVjdGlvbnNSZWZyZXNoaW5nLFxuICAgIGluc3RydWN0aW9uc1B1bGxUb1JlZnJlc2gsXG4gICAgaW5zdHJ1Y3Rpb25zUmVsZWFzZVRvUmVmcmVzaCxcbiAgfSA9IF9TRVRUSU5HUztcblxuICBjb25zdCBpY29uRWwgPSBwdHJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzUHJlZml4fWljb25gKTtcbiAgY29uc3QgdGV4dEVsID0gcHRyRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjbGFzc1ByZWZpeH10ZXh0YCk7XG5cbiAgaWYgKF9zdGF0ZSA9PT0gJ3JlZnJlc2hpbmcnKSB7XG4gICAgaWNvbkVsLmlubmVySFRNTCA9IGljb25SZWZyZXNoaW5nO1xuICB9IGVsc2Uge1xuICAgIGljb25FbC5pbm5lckhUTUwgPSBpY29uQXJyb3c7XG4gIH1cblxuICBpZiAoX3N0YXRlID09PSAncmVsZWFzaW5nJykge1xuICAgIHRleHRFbC5pbm5lckhUTUwgPSBpbnN0cnVjdGlvbnNSZWxlYXNlVG9SZWZyZXNoO1xuICB9XG5cbiAgaWYgKF9zdGF0ZSA9PT0gJ3B1bGxpbmcnIHx8IF9zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgdGV4dEVsLmlubmVySFRNTCA9IGluc3RydWN0aW9uc1B1bGxUb1JlZnJlc2g7XG4gIH1cblxuICBpZiAoX3N0YXRlID09PSAncmVmcmVzaGluZycpIHtcbiAgICB0ZXh0RWwuaW5uZXJIVE1MID0gaW5zdHJ1Y3Rpb25zUmVmcmVzaGluZztcbiAgfVxufVxuXG5mdW5jdGlvbiBfc2V0dXBFdmVudHMoKSB7XG4gIGZ1bmN0aW9uIG9uUmVzZXQoKSB7XG4gICAgY29uc3QgeyBjc3NQcm9wLCBwdHJFbGVtZW50LCBjbGFzc1ByZWZpeCB9ID0gX1NFVFRJTkdTO1xuXG4gICAgcHRyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGAke2NsYXNzUHJlZml4fXJlZnJlc2hgKTtcbiAgICBwdHJFbGVtZW50LnN0eWxlW2Nzc1Byb3BdID0gJzBweCc7XG5cbiAgICBfc3RhdGUgPSAncGVuZGluZyc7XG4gIH1cblxuICBmdW5jdGlvbiBfb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICBjb25zdCB7IHNob3VsZFB1bGxUb1JlZnJlc2gsIHRyaWdnZXJFbGVtZW50IH0gPSBfU0VUVElOR1M7XG5cbiAgICBpZiAoc2hvdWxkUHVsbFRvUmVmcmVzaCgpKSB7XG4gICAgICBwdWxsU3RhcnRZID0gZS50b3VjaGVzWzBdLnNjcmVlblk7XG4gICAgfVxuXG4gICAgaWYgKF9zdGF0ZSAhPT0gJ3BlbmRpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KF90aW1lb3V0KTtcblxuICAgIF9lbmFibGUgPSB0cmlnZ2VyRWxlbWVudC5jb250YWlucyhlLnRhcmdldCk7XG4gICAgX3N0YXRlID0gJ3BlbmRpbmcnO1xuICAgIF91cGRhdGUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblRvdWNoTW92ZShlKSB7XG4gICAgY29uc3Qge1xuICAgICAgY3NzUHJvcCwgY2xhc3NQcmVmaXgsIGRpc3RNYXgsIGRpc3RUaHJlc2hvbGQsIHB0ckVsZW1lbnQsIHJlc2lzdGFuY2VGdW5jdGlvbixcbiAgICAgIHNob3VsZFB1bGxUb1JlZnJlc2gsXG4gICAgfSA9IF9TRVRUSU5HUztcblxuICAgIGlmICghcHVsbFN0YXJ0WSkge1xuICAgICAgaWYgKHNob3VsZFB1bGxUb1JlZnJlc2goKSkge1xuICAgICAgICBwdWxsU3RhcnRZID0gZS50b3VjaGVzWzBdLnNjcmVlblk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHB1bGxNb3ZlWSA9IGUudG91Y2hlc1swXS5zY3JlZW5ZO1xuICAgIH1cblxuICAgIGlmICghX2VuYWJsZSB8fCBfc3RhdGUgPT09ICdyZWZyZXNoaW5nJykge1xuICAgICAgaWYgKHNob3VsZFB1bGxUb1JlZnJlc2goKSAmJiBwdWxsU3RhcnRZIDwgcHVsbE1vdmVZKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgICAgcHRyRWxlbWVudC5jbGFzc0xpc3QuYWRkKGAke2NsYXNzUHJlZml4fXB1bGxgKTtcbiAgICAgIF9zdGF0ZSA9ICdwdWxsaW5nJztcbiAgICAgIF91cGRhdGUoKTtcbiAgICB9XG5cbiAgICBpZiAocHVsbFN0YXJ0WSAmJiBwdWxsTW92ZVkpIHtcbiAgICAgIGRpc3QgPSBwdWxsTW92ZVkgLSBwdWxsU3RhcnRZO1xuICAgIH1cblxuICAgIGlmIChkaXN0ID4gMCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBwdHJFbGVtZW50LnN0eWxlW2Nzc1Byb3BdID0gYCR7ZGlzdFJlc2lzdGVkfXB4YDtcblxuICAgICAgZGlzdFJlc2lzdGVkID0gcmVzaXN0YW5jZUZ1bmN0aW9uKGRpc3QgLyBkaXN0VGhyZXNob2xkKVxuICAgICAgICAqIE1hdGgubWluKGRpc3RNYXgsIGRpc3QpO1xuXG4gICAgICBpZiAoX3N0YXRlID09PSAncHVsbGluZycgJiYgZGlzdFJlc2lzdGVkID4gZGlzdFRocmVzaG9sZCkge1xuICAgICAgICBwdHJFbGVtZW50LmNsYXNzTGlzdC5hZGQoYCR7Y2xhc3NQcmVmaXh9cmVsZWFzZWApO1xuICAgICAgICBfc3RhdGUgPSAncmVsZWFzaW5nJztcbiAgICAgICAgX3VwZGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3N0YXRlID09PSAncmVsZWFzaW5nJyAmJiBkaXN0UmVzaXN0ZWQgPCBkaXN0VGhyZXNob2xkKSB7XG4gICAgICAgIHB0ckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShgJHtjbGFzc1ByZWZpeH1yZWxlYXNlYCk7XG4gICAgICAgIF9zdGF0ZSA9ICdwdWxsaW5nJztcbiAgICAgICAgX3VwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblRvdWNoRW5kKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHB0ckVsZW1lbnQsIG9uUmVmcmVzaCwgcmVmcmVzaFRpbWVvdXQsIGRpc3RUaHJlc2hvbGQsIGRpc3RSZWxvYWQsIGNzc1Byb3AsIGNsYXNzUHJlZml4LFxuICAgIH0gPSBfU0VUVElOR1M7XG5cbiAgICBpZiAoX3N0YXRlID09PSAncmVsZWFzaW5nJyAmJiBkaXN0UmVzaXN0ZWQgPiBkaXN0VGhyZXNob2xkKSB7XG4gICAgICBfc3RhdGUgPSAncmVmcmVzaGluZyc7XG5cbiAgICAgIHB0ckVsZW1lbnQuc3R5bGVbY3NzUHJvcF0gPSBgJHtkaXN0UmVsb2FkfXB4YDtcbiAgICAgIHB0ckVsZW1lbnQuY2xhc3NMaXN0LmFkZChgJHtjbGFzc1ByZWZpeH1yZWZyZXNoYCk7XG5cbiAgICAgIF90aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJldHZhbCA9IG9uUmVmcmVzaChvblJlc2V0KTtcblxuICAgICAgICBpZiAocmV0dmFsICYmIHR5cGVvZiByZXR2YWwudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHZhbC50aGVuKCgpID0+IG9uUmVzZXQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJldHZhbCAmJiAhb25SZWZyZXNoLmxlbmd0aCkge1xuICAgICAgICAgIG9uUmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmVmcmVzaFRpbWVvdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoX3N0YXRlID09PSAncmVmcmVzaGluZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwdHJFbGVtZW50LnN0eWxlW2Nzc1Byb3BdID0gJzBweCc7XG5cbiAgICAgIF9zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICB9XG5cbiAgICBfdXBkYXRlKCk7XG5cbiAgICBwdHJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYCR7Y2xhc3NQcmVmaXh9cmVsZWFzZWApO1xuICAgIHB0ckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShgJHtjbGFzc1ByZWZpeH1wdWxsYCk7XG5cbiAgICBwdWxsU3RhcnRZID0gcHVsbE1vdmVZID0gbnVsbDtcbiAgICBkaXN0ID0gZGlzdFJlc2lzdGVkID0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblNjcm9sbCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBtYWluRWxlbWVudCwgY2xhc3NQcmVmaXgsIHNob3VsZFB1bGxUb1JlZnJlc2gsXG4gICAgfSA9IF9TRVRUSU5HUztcblxuICAgIG1haW5FbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoYCR7Y2xhc3NQcmVmaXh9dG9wYCwgc2hvdWxkUHVsbFRvUmVmcmVzaCgpKTtcbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIF9vblRvdWNoRW5kKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBfb25Ub3VjaFN0YXJ0KTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIF9vblRvdWNoTW92ZSwgc3VwcG9ydHNQYXNzaXZlXG4gICAgPyB7IHBhc3NpdmU6IF9TRVRUSU5HUy5wYXNzaXZlIHx8IGZhbHNlIH1cbiAgICA6IHVuZGVmaW5lZCk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF9vblNjcm9sbCk7XG5cbiAgLy8gU3RvcmUgZXZlbnQgaGFuZGxlcnMgdG8gdXNlIGZvciB0ZWFyZG93biBsYXRlclxuICByZXR1cm4ge1xuICAgIG9uVG91Y2hTdGFydDogX29uVG91Y2hTdGFydCxcbiAgICBvblRvdWNoTW92ZTogX29uVG91Y2hNb3ZlLFxuICAgIG9uVG91Y2hFbmQ6IF9vblRvdWNoRW5kLFxuICAgIG9uU2Nyb2xsOiBfb25TY3JvbGwsXG4gIH07XG59XG5cbmZ1bmN0aW9uIF9ydW4oKSB7XG4gIGNvbnN0IHtcbiAgICBtYWluRWxlbWVudCwgZ2V0TWFya3VwLCBnZXRTdHlsZXMsIGNsYXNzUHJlZml4LCBvbkluaXQsXG4gIH0gPSBfU0VUVElOR1M7XG5cbiAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjbGFzc1ByZWZpeH1wdHJgKSkge1xuICAgIGNvbnN0IHB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgaWYgKG1haW5FbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICBtYWluRWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwdHIsIG1haW5FbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUocHRyLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHB0ci5jbGFzc0xpc3QuYWRkKGAke2NsYXNzUHJlZml4fXB0cmApO1xuICAgIHB0ci5pbm5lckhUTUwgPSBnZXRNYXJrdXAoKVxuICAgICAgLnJlcGxhY2UoL19fUFJFRklYX18vZywgY2xhc3NQcmVmaXgpO1xuXG4gICAgX1NFVFRJTkdTLnB0ckVsZW1lbnQgPSBwdHI7XG4gIH1cblxuICAvLyBBZGQgdGhlIGNzcyBzdHlsZXMgdG8gdGhlIHN0eWxlIG5vZGUsIGFuZCB0aGVuXG4gIC8vIGluc2VydCBpdCBpbnRvIHRoZSBkb21cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgbGV0IHN0eWxlRWw7XG4gIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3B1bGwtdG8tcmVmcmVzaC1qcy1zdHlsZScpKSB7XG4gICAgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGVFbC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3B1bGwtdG8tcmVmcmVzaC1qcy1zdHlsZScpO1xuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3B1bGwtdG8tcmVmcmVzaC1qcy1zdHlsZScpO1xuICB9XG5cbiAgc3R5bGVFbC50ZXh0Q29udGVudCA9IGdldFN0eWxlcygpXG4gICAgLnJlcGxhY2UoL19fUFJFRklYX18vZywgY2xhc3NQcmVmaXgpXG4gICAgLnJlcGxhY2UoL1xccysvZywgJyAnKTtcblxuICBpZiAodHlwZW9mIG9uSW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9uSW5pdChfU0VUVElOR1MpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdHlsZU5vZGU6IHN0eWxlRWwsXG4gICAgcHRyRWxlbWVudDogX1NFVFRJTkdTLnB0ckVsZW1lbnQsXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdChvcHRpb25zID0ge30pIHtcbiAgICBsZXQgaGFuZGxlcnM7XG4gICAgT2JqZWN0LmtleXMoX2RlZmF1bHRzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIF9TRVRUSU5HU1trZXldID0gb3B0aW9uc1trZXldIHx8IF9kZWZhdWx0c1trZXldO1xuICAgIH0pO1xuXG4gICAgY29uc3QgbWV0aG9kcyA9IFsnbWFpbkVsZW1lbnQnLCAncHRyRWxlbWVudCcsICd0cmlnZ2VyRWxlbWVudCddO1xuICAgIG1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIF9TRVRUSU5HU1ttZXRob2RdID09PSAnc3RyaW5nJykge1xuICAgICAgICBfU0VUVElOR1NbbWV0aG9kXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoX1NFVFRJTkdTW21ldGhvZF0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCFfc2V0dXApIHtcbiAgICAgIGhhbmRsZXJzID0gX3NldHVwRXZlbnRzKCk7XG4gICAgICBfc2V0dXAgPSB0cnVlO1xuICAgIH1cblxuICAgIGxldCB7IHN0eWxlTm9kZSwgcHRyRWxlbWVudCB9ID0gX3J1bigpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIC8vIFRlYXJkb3duIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZXJzLm9uVG91Y2hTdGFydCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZXJzLm9uVG91Y2hFbmQpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlcnMub25Ub3VjaE1vdmUsIHN1cHBvcnRzUGFzc2l2ZVxuICAgICAgICAgID8geyBwYXNzaXZlOiBfU0VUVElOR1MucGFzc2l2ZSB8fCBmYWxzZSB9XG4gICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlcnMub25TY3JvbGwpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBwdHIgZWxlbWVudCBhbmQgc3R5bGUgdGFnXG4gICAgICAgIHN0eWxlTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlTm9kZSk7XG4gICAgICAgIHB0ckVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwdHJFbGVtZW50KTtcblxuICAgICAgICAvLyBFbmFibGUgc2V0dXBFdmVudHMgdG8gcnVuIGFnYWluXG4gICAgICAgIF9zZXR1cCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG51bGwgb2JqZWN0IHJlZmVyZW5jZXNcbiAgICAgICAgaGFuZGxlcnMgPSBudWxsO1xuICAgICAgICBzdHlsZU5vZGUgPSBudWxsO1xuICAgICAgICBwdHJFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgX1NFVFRJTkdTID0ge307XG4gICAgICB9LFxuICAgIH07XG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbImxldCIsImNvbnN0Il0sIm1hcHBpbmdzIjoiO0FBQUEsaUJBQWUsWUFBWSxFQUFFLE9BQU8sb0pBQW9KLENBQUM7O0FDQ3ZMOztBQ0RGOztBQUVBLEFBR0FBLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQzs7QUFFbkJDLElBQU0sU0FBUyxHQUFHO0VBQ2hCLGFBQWEsRUFBRSxFQUFFO0VBQ2pCLE9BQU8sRUFBRSxFQUFFO0VBQ1gsVUFB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